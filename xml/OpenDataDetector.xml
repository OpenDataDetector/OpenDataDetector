<?xml version="1.0" encoding="UTF-8"?>
<lccdd xmlns:compact="http://www.lcsim.org/schemas/compact/1.0"
        xmlns:xs="http://www.w3.org/2001/XMLSchema" xs:noNamespaceSchemaLocation="http://www.lcsim.org/schemas/compact/1.0/compact.xsd">

        <includes>
                <gdmlFile ref="elements.xml"/>
                <gdmlFile ref="OpenDataMaterials.xml"/>
        </includes>

        <info name="Open Data Detector" title="Open Data Detector" author="Andreas.Salzburger@cern.ch" url="" status="alpha" version="0">
                <comment>Demonstrator Detector for algorithmic research and development</comment>
        </info>

        <!-- Envelopes -->
        <define>
                <!--World-->
                <constant name="world_size" value="10.*m"/>
                <constant name="world_x" value="world_size"/>
                <constant name="world_y" value="world_size"/>
                <constant name="world_z" value="world_size"/>
        </define>
        <include ref="OpenDataDetectorEnvelopes.xml"/>

        <!-- Identifier definitions -->
        <include ref="OpenDataDetectorIdentifiers.xml"/>

        <!-- Auxiliary definitions-->
        <include ref="OpenDataMaterialBinning.xml"/>
        <include ref="OpenDataVisualization.xml"/>

        <!-- Sub detectors / parts -->
        <detectors>
                <detector id="1000" name="OpenDataDetector" type="DD4hep_SubdetectorAssembly" vis="invisible">
                        <shape name="OpenDataDetectorVolume" type="Tube" rmin="0" rmax="world_size" dz="world_size" material="Air"/>
                        <composite name="BeamPipe"/>
                        <composite name="Pixels"/>
                        <composite name="PST"/>
                        <composite name="ShortStrips"/>
                        <composite name="LongStrips"/>
                        <composite name="Solenoid"/>
                        <!-- composite name="ECal"/ -->
                </detector>
        </detectors>

        <include ref="OpenDataBeamPipe.xml"/>
        <include ref="OpenDataTracker.xml"/>
        <include ref="OpenDataSolenoid.xml"/>
        <!-- include ref="OpenDataCalorimeter.xml"/ -->

        <!-- Plugins -->
        <include ref="OpenDataDetectorPlugins.xml"/>

        <plugins>
                <plugin name="DD4hep_ParametersPlugin">
                        <argument value="OpenDataDetector"/>
                        <argument value="acts_world: bool = true"/>
                        <argument value="acts_world_type: int = 3"/>
                        <argument value="acts_world_bvalues_n: int = 3"/>
                        <argument value="acts_world_bvalues_0: double = 0"/>
                        <argument value="acts_world_bvalues_1: double = tracker_region_rmax"/>
                        <argument value="acts_world_bvalues_2: double = tracker_region_zmax"/>
                        <argument value="acts_world_binning: str = r"/>
                        <argument value="acts_world_geo_id: str = incremental"/>
                        <argument value="acts_world_root_volume_finder: str = indexed"/>
                </plugin>
        </plugins>
</lccdd>
